<!DOCTYPE html>
<html>
<body onload(getFileFromServer('url', 'catalog1', true)>
	<h1>Fergie's Fresh Cut Flowers</h1>

	<input type="button" value="Get Flower Catalog" onclick="getFileFromServer('flower.json','catalog1', true)" />

	<table id="catalog1" name="catalog1" border="1">
	<tr><th>Product</th><th>Name</th><th>Item Code</th><th>Price</th></tr>
	</table>

	<script>
	function getFileFromServer(url, divId, isJSON) {
	  var xmlhttp = new XMLHttpRequest();
	  xmlhttp.onreadystatechange = 
		function() {
			if (this.readyState == 4 && this.status == 200) {
				var myArr = JSON.parse(this.responseText);
				console.log(myArr);
				loadFile(myArr, divId, isJSON);
			}
		};
	//	This is where we make our request to the server. We are passing along the URL for the file we want
	//	You can see the name of the file we are requesting in the about HTML code.
	//	Each button has a different file defined
	  xmlhttp.open("GET", url, true);
	  xmlhttp.send();
//	  document.getElementById( divId ).innerHTML = xmlhttp.responseText;	
	}

	function loadFile(arr, divId, isJson) {
	  var x, i, vTable;
	  var vOut = "";
	  vTable = "<tr><th>Product</th><th>Name</th><th>Item Code</th><th>Price</th></tr>\n";
//	  x = arr.getElementsByTagName("flower");
	  for (i = 0; i < arr.flower.length; i++) { 
		vOut += '<tr><td><img src="' + 
		arr.flower.product[i]  + 
/*		'" alt="' + x[i].getElementsByTagName("Product")[i].childNodes[i].nodeValue + '"></td><td>' +
		x[i].getElementsByTagName("Name")[i].childNodes[i].nodeValue +
		"</td></tr>";
		x[i].getElementsByTagName("Code")[i].childNodes[i].nodeValue +
		"</td></tr>";
		x[i].getElementsByTagName("Price")[i].childNodes[i].nodeValue +
	*/
		"</td></tr>\n"; 
		alert(arr.flower.length);
		console.log( vOut);
	 }
		alert(vOut);

		document.getElementById("catalog1").innerHTML = vTable += vOut;
	}

	</script>
</body>
</html>
